/* @appility/scrolltracker v1.0.0 */
import e,{useState as r,useEffect as o}from"react";import t from"prop-types";var n="ScrollTracker-module_progressWrapper__KnKV5",l="ScrollTracker-module_progressBar__jd5sR",a="ScrollTracker-module_percentageText__otGAZ";!function(e,r){if(void 0===r)r={};var o=r.insertAt;if(e&&"undefined"!==typeof document){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";if("top"===o)if(t.firstChild)t.insertBefore(n,t.firstChild);else t.appendChild(n);else t.appendChild(n);if(n.styleSheet)n.styleSheet.cssText=e;else n.appendChild(document.createTextNode(e))}}(".ScrollTracker-module_progressWrapper__KnKV5{align-items:center;background-color:#f0f0f0;display:flex;height:20px;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:9999}.ScrollTracker-module_progressBar__jd5sR{background-color:#fff;border:1px solid #8edfff;height:20px;overflow:hidden;width:100%}::-webkit-progress-bar{background-color:#fff}.ScrollTracker-module_progressBar__jd5sR::-webkit-progress-value{background-color:#8edfff;transition:width 1s}.ScrollTracker-module_progressBar__jd5sR::-moz-progress-bar{background-color:#8edfff;height:0;padding-bottom:var(--value);padding-left:60px;transform:rotate(-90deg) translateX(-60px);transform-origin:0 0;transition:padding-bottom 1s}.ScrollTracker-module_progressBar__jd5sR::-ms-fill{background-color:#8edfff;border:0}.ScrollTracker-module_percentageText__otGAZ{color:#00308f;font-size:14px;font-weight:700;position:absolute}");var s=function(t){var s=t.thresholds,d=t.showVisualIndicator,i=void 0===d?!0:d,c=t.children,f=r(0),u=f[0],p=f[1];o((function(){if("undefined"===typeof window)console.warn("ScrollTracker component should not be used on the server side.");var e,r,o,t=function(e,r){var o=new Set;return function(){var t=(window.scrollY+window.innerHeight)/document.documentElement.scrollHeight*100;e.forEach((function(e){if(t>=e&&!o.has(e)){window.dispatchEvent(new CustomEvent("scrollProgress",{detail:{percentage:e}}));o.add(e);r(e)}}))}}(s,(function(e){return p(Math.min(e,100))}));window.addEventListener("scroll",(e=t,r=200,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(o);o=window.setTimeout((function(){return e.apply(void 0,t)}),r)}));return function(){return window.removeEventListener("scroll",t)}}),[s]);return i?e.createElement("div",{className:n},c?c(u):e.createElement(e.Fragment,null,e.createElement("progress",{className:l,value:u,max:"100"}),e.createElement("span",{className:a},Math.round(u),"%"))):null};s.propTypes={thresholds:t.arrayOf(t.number).isRequired,showVisualIndicator:t.bool,children:t.func};export{s as default};
